import{Q as S,a as D,d as X,e as Q}from"./QItem.96074009.js";import{i as _,e as x,a as r,g as N,l as q,H as P,b as V,c as w,ac as K,ad as O,ae as U,V as b,W as v,X as l,a3 as m,Y as i,a4 as F,a5 as I,a6 as z,$ as M,_ as $,a2 as f,af as A,ag as k,a0 as p,ah as y,F as Y,ai as j}from"./index.378f22f6.js";import{Q as E,a as G,C as R}from"./ClosePopup.2ce64637.js";import{Q as W}from"./QForm.07aac5e8.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";const Z={position:{type:String,default:"bottom-right",validator:o=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(o)},offset:{type:Array,validator:o=>o.length===2},expand:Boolean};function ee(){const{props:o,proxy:{$q:t}}=N(),s=_(q,x);if(s===x)return console.error("QPageSticky needs to be child of QLayout"),x;const B=r(()=>{const n=o.position;return{top:n.indexOf("top")!==-1,right:n.indexOf("right")!==-1,bottom:n.indexOf("bottom")!==-1,left:n.indexOf("left")!==-1,vertical:n==="top"||n==="bottom",horizontal:n==="left"||n==="right"}}),a=r(()=>s.header.offset),u=r(()=>s.right.offset),e=r(()=>s.footer.offset),h=r(()=>s.left.offset),L=r(()=>{let n=0,d=0;const g=B.value,H=t.lang.rtl===!0?-1:1;g.top===!0&&a.value!==0?d=`${a.value}px`:g.bottom===!0&&e.value!==0&&(d=`${-e.value}px`),g.left===!0&&h.value!==0?n=`${H*h.value}px`:g.right===!0&&u.value!==0&&(n=`${-H*u.value}px`);const c={transform:`translate(${n}, ${d})`};return o.offset&&(c.margin=`${o.offset[1]}px ${o.offset[0]}px`),g.vertical===!0?(h.value!==0&&(c[t.lang.rtl===!0?"right":"left"]=`${h.value}px`),u.value!==0&&(c[t.lang.rtl===!0?"left":"right"]=`${u.value}px`)):g.horizontal===!0&&(a.value!==0&&(c.top=`${a.value}px`),e.value!==0&&(c.bottom=`${e.value}px`)),c}),T=r(()=>`q-page-sticky row flex-center fixed-${o.position} q-page-sticky--${o.expand===!0?"expand":"shrink"}`);function C(n){const d=P(n.default);return V("div",{class:T.value,style:L.value},o.expand===!0?d:[V("div",d)])}return{$layout:s,getStickyContent:C}}var te=w({name:"QPageSticky",props:Z,setup(o,{slots:t}){const{getStickyContent:s}=ee();return()=>s(t)}});const oe={data(){return{baoHiemXoaId:null,hienThiDialog:!1,cheDoDialog:null,baoHiemDangXuLy:{},loaiBaoHiemOptions:["TNDS b\u1EAFt bu\u1ED9c","B\u1EA3o hi\u1EC3m th\xE2n v\u1ECF"]}},computed:{...K("baohiem",["isLoading"]),...O("baohiem",["danhSachBaoHiemSapXep"])},methods:{...U("baohiem",["layDanhSachBaoHiem","xoaBaoHiem","themBaoHiem","capNhatBaoHiem"]),moDialogThemMoi(){this.cheDoDialog="them",this.baoHiemDangXuLy={},this.hienThiDialog=!0},moDialogChinhSua(o){this.cheDoDialog="chinh-sua",this.baoHiemDangXuLy={...o,ngayBatDau:o.ngayBatDau.slice(0,10),ngayKetThuc:o.ngayKetThuc.slice(0,10)},this.hienThiDialog=!0},submitForm(){this.$refs.form.validate().then(o=>{o&&(this.cheDoDialog==="them"?this.themBaoHiem(this.baoHiemDangXuLy):this.capNhatBaoHiem(this.baoHiemDangXuLy),this.hienThiDialog=!1)})},hienThiXacNhanXoa(o){this.$q.dialog({title:"X\xE1c nh\u1EADn x\xF3a",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a b\u1EA3o hi\u1EC3m n\xE0y?",cancel:!0,persistent:!0}).onOk(()=>{this.xoaBaoHiem(o)})}},mounted(){this.layDanhSachBaoHiem()}},ae={class:"text-weight-bold"},ie={class:"text-caption text-grey"},le={class:"text-caption text-grey"},ne={class:"q-gutter-sm"},se={class:"text-h6"},ue={class:"text-right q-mt-md"};function re(o,t,s,B,a,u){return b(),v(E,{class:"q-pa-md"},{default:l(()=>[t[8]||(t[8]=m("div",{class:"text-h5 q-mb-md"},"Danh s\xE1ch B\u1EA3o hi\u1EC3m Xe m\xE1y",-1)),i(Q,{bordered:"",separator:""},{default:l(()=>[(b(!0),F(z,null,I(o.danhSachBaoHiemSapXep,e=>(b(),v(S,{key:e.id},{default:l(()=>[i(D,null,{default:l(()=>[i(X,null,{default:l(()=>[m("div",ae,p(e.bienSoXe),1),m("div",ie,p(e.hangBaoHiem)+" - "+p(e.loaiBaoHiem),1),m("div",le," T\u1EEB "+p(e.ngayBatDau)+" \u0111\u1EBFn "+p(e.ngayKetThuc),1)]),_:2},1024)]),_:2},1024),i(D,{side:""},{default:l(()=>[m("div",ne,[i(f,{icon:"edit",color:"primary",size:"sm",round:"",dense:"",onClick:h=>u.moDialogChinhSua(e)},null,8,["onClick"]),i(f,{icon:"delete",color:"negative",size:"sm",round:"",dense:"",onClick:h=>u.hienThiXacNhanXoa(e.id)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),o.danhSachBaoHiemSapXep.length?$("",!0):(b(),v(S,{key:0},{default:l(()=>[i(D,null,{default:l(()=>[i(X,{class:"text-center text-grey"},{default:l(()=>t[7]||(t[7]=[M(" Kh\xF4ng c\xF3 b\u1EA3o hi\u1EC3m n\xE0o. ")])),_:1})]),_:1})]),_:1}))]),_:1}),i(te,{position:"bottom-right",offset:[18,18]},{default:l(()=>[i(f,{fab:"",icon:"add",color:"primary",onClick:u.moDialogThemMoi},null,8,["onClick"])]),_:1}),i(j,{modelValue:a.hienThiDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>a.hienThiDialog=e),persistent:""},{default:l(()=>[i(A,{style:{"min-width":"350px"}},{default:l(()=>[i(k,null,{default:l(()=>[m("div",se,p(a.cheDoDialog==="them"?"Th\xEAm B\u1EA3o hi\u1EC3m M\u1EDBi":"Ch\u1EC9nh s\u1EEDa B\u1EA3o hi\u1EC3m"),1)]),_:1}),i(k,{class:"q-pt-none"},{default:l(()=>[i(W,{onSubmit:u.submitForm,ref:"form"},{default:l(()=>[i(y,{modelValue:a.baoHiemDangXuLy.bienSoXe,"onUpdate:modelValue":t[0]||(t[0]=e=>a.baoHiemDangXuLy.bienSoXe=e),label:"Bi\u1EC3n s\u1ED1 xe",outlined:"",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp bi\u1EC3n s\u1ED1 xe"]},null,8,["modelValue","rules"]),i(y,{modelValue:a.baoHiemDangXuLy.hangBaoHiem,"onUpdate:modelValue":t[1]||(t[1]=e=>a.baoHiemDangXuLy.hangBaoHiem=e),label:"H\xE3ng b\u1EA3o hi\u1EC3m",outlined:"",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp h\xE3ng b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","rules"]),i(G,{modelValue:a.baoHiemDangXuLy.loaiBaoHiem,"onUpdate:modelValue":t[2]||(t[2]=e=>a.baoHiemDangXuLy.loaiBaoHiem=e),label:"Lo\u1EA1i b\u1EA3o hi\u1EC3m",options:a.loaiBaoHiemOptions,outlined:"",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","options","rules"]),i(y,{modelValue:a.baoHiemDangXuLy.ngayBatDau,"onUpdate:modelValue":t[3]||(t[3]=e=>a.baoHiemDangXuLy.ngayBatDau=e),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",outlined:"",type:"date",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),i(y,{modelValue:a.baoHiemDangXuLy.ngayKetThuc,"onUpdate:modelValue":t[4]||(t[4]=e=>a.baoHiemDangXuLy.ngayKetThuc=e),label:"Ng\xE0y k\u1EBFt th\xFAc",outlined:"",type:"date",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn ng\xE0y k\u1EBFt th\xFAc",e=>new Date(e)>new Date(a.baoHiemDangXuLy.ngayBatDau)||"Ng\xE0y k\u1EBFt th\xFAc ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),i(y,{modelValue:a.baoHiemDangXuLy.soTienBaoHiem,"onUpdate:modelValue":t[5]||(t[5]=e=>a.baoHiemDangXuLy.soTienBaoHiem=e),modelModifiers:{number:!0},label:"S\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m",outlined:"",type:"number",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp s\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m",e=>e>0||"S\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m ph\u1EA3i l\u1EDBn h\u01A1n 0"]},null,8,["modelValue","rules"]),m("div",ue,[i(f,{label:a.cheDoDialog==="them"?"Th\xEAm":"L\u01B0u",type:"submit",color:"primary"},null,8,["label"]),Y(i(f,{label:"H\u1EE7y",color:"grey",flat:"",class:"q-ml-sm"},null,512),[[R]])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var pe=J(oe,[["render",re]]);export{pe as default};
