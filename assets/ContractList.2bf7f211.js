import{i as b,ax as L,_ as I,Y as q,a as Q,r as k,a0 as B,a1 as l,a7 as m,al as c,a5 as h,Z as x,a3 as g,a6 as D,a2 as e,$ as t,a9 as N,a8 as S,aw as V,F as M,a4 as K,at as p,ab as w}from"./index.b6fdf090.js";import{Q as z,b as F,c as y,a as H}from"./QList.5e5bc38e.js";import{T as j}from"./ThuTienForm.27f90a39.js";function A(){return b(L)}const E={components:{ThuTienForm:j},props:{khachHangId:{type:Number,required:!0},danhSachHopDong:{type:Array,required:!0}},emits:["them-hop-dong","sua-hop-dong","xoa-hop-dong"],setup(T,{emit:i}){const s=q(),n=A(),_=Q(()=>{const o=s.getters["khachHang/getKhachHangById"](T.khachHangId);return o?o.ho_ten:""}),d=k(!1),r=k(null),a=()=>{i("them-hop-dong")},u=o=>{i("sua-hop-dong",o)},v=o=>{n.dialog({title:"X\xE1c nh\u1EADn x\xF3a h\u1EE3p \u0111\u1ED3ng",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a h\u1EE3p \u0111\u1ED3ng n\xE0y kh\xF4ng?",cancel:!0,persistent:!0}).onOk(()=>{i("xoa-hop-dong",o)})},C=o=>{r.value=o,d.value=!0},f=()=>{d.value=!1};return{tenKhachHang:_,themHopDongMoi:a,suaHopDong:u,xoaHopDong:v,dialogThuTienMo:d,hopDongIdDangThuTien:r,moDialogThuTien:C,dongDialogThuTien:f,xuLyThuTienThanhCong:()=>{s.dispatch("hopDong/layDanhSachHopDong"),f()}}}},O={class:"text-h6 q-mb-md"},R={class:"text-grey-8 q-gutter-xs"},U={key:0,class:"text-center q-pa-md"};function X(T,i,s,n,_,d){const r=B("thu-tien-form");return l(),m("div",null,[c("div",O,"Danh s\xE1ch h\u1EE3p \u0111\u1ED3ng c\u1EE7a "+h(n.tenKhachHang),1),s.khachHangId?(l(),x(g,{key:0,label:"Th\xEAm h\u1EE3p \u0111\u1ED3ng m\u1EDBi",color:"primary",onClick:n.themHopDongMoi},null,8,["onClick"])):D("",!0),e(z,{bordered:"",separator:"",class:"q-mt-md"},{default:t(()=>[(l(!0),m(N,null,S(s.danhSachHopDong,a=>M((l(),x(F,{key:a.id,clickable:""},{default:t(()=>[e(y,null,{default:t(()=>[e(H,null,{default:t(()=>[K(h(a.ten_goi_bao_hiem),1)]),_:2},1024),e(H,{caption:""},{default:t(()=>[c("div",null,"Lo\u1EA1i: "+h(a.loai_bao_hiem.ten_loai),1),c("div",null,"Ng\xE0y b\u1EAFt \u0111\u1EA7u: "+h(a.ngay_bat_dau),1),c("div",null,"Ng\xE0y k\u1EBFt th\xFAc: "+h(a.ngay_ket_thuc),1)]),_:2},1024)]),_:2},1024),e(y,{side:""},{default:t(()=>[c("div",R,[e(g,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:p(u=>n.suaHopDong(a),["stop"])},null,8,["onClick"]),e(g,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:p(u=>n.xoaHopDong(a.id),["stop"])},null,8,["onClick"]),e(g,{size:"12px",flat:"",dense:"",round:"",icon:"paid",onClick:p(u=>n.moDialogThuTien(a.id),["stop"])},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)),[[w]])),128)),s.danhSachHopDong.length?D("",!0):(l(),m("div",U," Kh\xF4ng c\xF3 h\u1EE3p \u0111\u1ED3ng n\xE0o. "))]),_:1}),e(V,{modelValue:n.dialogThuTienMo,"onUpdate:modelValue":i[0]||(i[0]=a=>n.dialogThuTienMo=a),persistent:""},{default:t(()=>[e(r,{"hop-dong-id":n.hopDongIdDangThuTien,onDongDialog:n.dongDialogThuTien,onLuuThongTin:n.xuLyThuTienThanhCong},null,8,["hop-dong-id","onDongDialog","onLuuThongTin"])]),_:1},8,["modelValue"])])}var P=I(E,[["render",X]]);export{P as C};
