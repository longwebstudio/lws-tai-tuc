import{Q as ke}from"./QSpace.dc0a175d.js";import{c as W,f as Te,j as B,n as xe,k as Ve,m as A,p as F,t as ne,v as z,u as j,r as x,a as H,w as de,g as ge,F as Se,h as L,ao as Ke,ap as Pe,b as Z,aq as we,y as Le,A as Qe,H as qe,_ as N,Y as O,a0 as M,a1 as D,a7 as U,al as T,a2 as i,$ as d,Z as S,aa as oe,ar as Be,as as k,a9 as Me,a8 as Ie,a6 as Y,a4 as R,a5 as Q,G as J,at as Ae,a3 as P,au as te,ab as Ue,E as me,am as pe,av as fe,an as ve,aw as Ne,ax as le}from"./index.42e16089.js";import{Q as Oe}from"./QToolbar.d6f1c9df.js";import{u as Ee,a as Fe,b as ze,g as ie,s as ue,c as je}from"./QTabs.a8c0459c.js";import{c as Xe}from"./rtl.73c54f08.js";import{Q as Ye}from"./QPage.30a31dd5.js";import{Q as G,C as _e,a as Re}from"./ContractList.f5fd886c.js";import{Q as Ge,b as We,c as X,a as se}from"./QList.1e40816d.js";import{Q as be}from"./QForm.29584d64.js";var re=W({name:"QTab",props:Ee,emits:Fe,setup(n,{slots:a,emit:l}){const{renderTab:e}=ze(n,a,l);return()=>e("div")}});function Ze(n){const a=[.06,6,50];return typeof n=="string"&&n.length&&n.split(":").forEach((l,e)=>{const h=parseFloat(l);h&&(a[e]=h)}),a}var Je=Te({name:"touch-swipe",beforeMount(n,{value:a,arg:l,modifiers:e}){if(e.mouse!==!0&&B.has.touch!==!0)return;const h=e.mouseCapture===!0?"Capture":"",t={handler:a,sensitivity:Ze(l),direction:ie(e),noop:xe,mouseStart(o){ue(o,t)&&Ve(o)&&(A(t,"temp",[[document,"mousemove","move",`notPassive${h}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(o,!0))},touchStart(o){if(ue(o,t)){const u=o.target;A(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),t.start(o)}},start(o,u){B.is.firefox===!0&&F(n,!0);const b=ne(o);t.event={x:b.left,y:b.top,time:Date.now(),mouse:u===!0,dir:!1}},move(o){if(t.event===void 0)return;if(t.event.dir!==!1){z(o);return}const u=Date.now()-t.event.time;if(u===0)return;const b=ne(o),y=b.left-t.event.x,s=Math.abs(y),f=b.top-t.event.y,g=Math.abs(f);if(t.event.mouse!==!0){if(s<t.sensitivity[1]&&g<t.sensitivity[1]){t.end(o);return}}else if(window.getSelection().toString()!==""){t.end(o);return}else if(s<t.sensitivity[2]&&g<t.sensitivity[2])return;const c=s/u,m=g/u;t.direction.vertical===!0&&s<g&&s<100&&m>t.sensitivity[0]&&(t.event.dir=f<0?"up":"down"),t.direction.horizontal===!0&&s>g&&g<100&&c>t.sensitivity[0]&&(t.event.dir=y<0?"left":"right"),t.direction.up===!0&&s<g&&f<0&&s<100&&m>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&s<g&&f>0&&s<100&&m>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&s>g&&y<0&&g<100&&c>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&s>g&&y>0&&g<100&&c>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(z(o),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Xe(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const C=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(C,50):C()}),t.handler({evt:o,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:u,distance:{x:s,y:g}})):t.end(o)},end(o){t.event!==void 0&&(j(t,"temp"),B.is.firefox===!0&&F(n,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),o!==void 0&&t.event.dir!==!1&&z(o),t.event=void 0)}};if(n.__qtouchswipe=t,e.mouse===!0){const o=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";A(t,"main",[[n,"mousedown","mouseStart",`passive${o}`]])}B.has.touch===!0&&A(t,"main",[[n,"touchstart","touchStart",`passive${e.capture===!0?"Capture":""}`],[n,"touchmove","noop","notPassiveCapture"]])},updated(n,a){const l=n.__qtouchswipe;l!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&l.end(),l.handler=a.value),l.direction=ie(a.modifiers))},beforeUnmount(n){const a=n.__qtouchswipe;a!==void 0&&(j(a,"main"),j(a,"temp"),B.is.firefox===!0&&F(n,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete n.__qtouchswipe)}});function $e(){let n=Object.create(null);return{getCache:(a,l)=>n[a]===void 0?n[a]=typeof l=="function"?l():l:n[a],setCache(a,l){n[a]=l},hasCache(a){return Object.hasOwnProperty.call(n,a)},clearCache(a){a!==void 0?delete n[a]:n=Object.create(null)}}}const ea={name:{required:!0},disable:Boolean},he={setup(n,{slots:a}){return()=>L("div",{class:"q-panel scroll",role:"tabpanel"},Z(a.default))}},aa={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},na=["update:modelValue","beforeTransition","transition"];function oa(){const{props:n,emit:a,proxy:l}=ge(),{getCache:e}=$e();let h,t;const o=x(null),u=x(null);function b(r){const v=n.vertical===!0?"up":"left";q((l.$q.lang.rtl===!0?-1:1)*(r.direction===v?1:-1))}const y=H(()=>[[Je,b,void 0,{horizontal:n.vertical!==!0,vertical:n.vertical,mouse:!0}]]),s=H(()=>n.transitionPrev||`slide-${n.vertical===!0?"down":"right"}`),f=H(()=>n.transitionNext||`slide-${n.vertical===!0?"up":"left"}`),g=H(()=>`--q-transition-duration: ${n.transitionDuration}ms`),c=H(()=>typeof n.modelValue=="string"||typeof n.modelValue=="number"?n.modelValue:String(n.modelValue)),m=H(()=>({include:n.keepAliveInclude,exclude:n.keepAliveExclude,max:n.keepAliveMax})),_=H(()=>n.keepAliveInclude!==void 0||n.keepAliveExclude!==void 0);de(()=>n.modelValue,(r,v)=>{const V=p(r)===!0?E(r):-1;t!==!0&&$(V===-1?0:V<E(v)?-1:1),o.value!==V&&(o.value=V,a("beforeTransition",r,v),Se(()=>{a("transition",r,v)}))});function C(){q(1)}function K(){q(-1)}function w(r){a("update:modelValue",r)}function p(r){return r!=null&&r!==""}function E(r){return h.findIndex(v=>v.props.name===r&&v.props.disable!==""&&v.props.disable!==!0)}function He(){return h.filter(r=>r.props.disable!==""&&r.props.disable!==!0)}function $(r){const v=r!==0&&n.animated===!0&&o.value!==-1?"q-transition--"+(r===-1?s.value:f.value):null;u.value!==v&&(u.value=v)}function q(r,v=o.value){let V=v+r;for(;V!==-1&&V<h.length;){const I=h[V];if(I!==void 0&&I.props.disable!==""&&I.props.disable!==!0){$(r),t=!0,a("update:modelValue",I.props.name),setTimeout(()=>{t=!1});return}V+=r}n.infinite===!0&&h.length!==0&&v!==-1&&v!==h.length&&q(r,r===-1?h.length:-1)}function ee(){const r=E(n.modelValue);return o.value!==r&&(o.value=r),!0}function ae(){const r=p(n.modelValue)===!0&&ee()&&h[o.value];return n.keepAlive===!0?[L(we,m.value,[L(_.value===!0?e(c.value,()=>({...he,name:c.value})):he,{key:c.value,style:g.value},()=>r)])]:[L("div",{class:"q-panel scroll",style:g.value,key:c.value,role:"tabpanel"},[r])]}function De(){if(h.length!==0)return n.animated===!0?[L(Ke,{name:u.value},ae)]:ae()}function ye(r){return h=Pe(Z(r.default,[])).filter(v=>v.props!==null&&v.props.slot===void 0&&p(v.props.name)===!0),h.length}function Ce(){return h}return Object.assign(l,{next:C,previous:K,goTo:w}),{panelIndex:o,panelDirectives:y,updatePanelsList:ye,updatePanelIndex:ee,getPanelContent:De,getEnabledPanels:He,getPanels:Ce,isValidPanelName:p,keepAliveProps:m,needsUniqueKeepAliveWrapper:_,goToPanelByOffset:q,goToPanel:w,nextPanel:C,previousPanel:K}}var ce=W({name:"QTabPanel",props:ea,setup(n,{slots:a}){return()=>L("div",{class:"q-tab-panel",role:"tabpanel"},Z(a.default))}}),ta=W({name:"QTabPanels",props:{...aa,...Le},emits:na,setup(n,{slots:a}){const l=ge(),e=Qe(n,l.proxy.$q),{updatePanelsList:h,getPanelContent:t,panelDirectives:o}=oa(),u=H(()=>"q-tab-panels q-panel-parent"+(e.value===!0?" q-tab-panels--dark q-dark":""));return()=>(h(a),qe("div",{class:u.value},t(),"pan",n.swipeable,()=>o.value))}});function la(n){if(n=n.trim(),n.split(" ").length<2)return!1;const a=n.split(" ");for(let l=0;l<a.length;l++)if(!/^[A-Za-z]+$/.test(a[l]))return!1;return!0}function ia(n){const l=n.match(/\d+/g).join("");return l.length>=10?l.slice(-10):null}function ua(n){return!(n.length!==12||!/^\d+$/.test(n))}function sa(n){return n.split("|")[0]}function ra(n){if(n.length!==10||!/^\d+$/.test(n))return!1;const a=n.substring(0,2);return!!["09","03","01","07","08"].includes(a)}function ha(n){const a=sa(n);return ua(a)?"S\u1ED1 CCCD":ra(a)?"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i di \u0111\u1ED9ng":la(a)?"H\u1ECD v\xE0 t\xEAn":ia(a).length===10?"D\xE3y 10 ch\u1EEF s\u1ED1 cu\u1ED1i":"Lo\u1EA1i chu\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh"}const ca={props:{danhSachKhachHang:{type:Array,required:!0}},emits:["chon-khach-hang","them-khach-hang","sua-khach-hang","xoa-khach-hang"],setup(n,{emit:a}){const l=O(),e=x(""),h=x(null),t=x(1),o=H(()=>l.state.taiTuc.loaiBaoHiemOptions),u=H(()=>{let c=n.danhSachKhachHang;if(e.value){const m=e.value.toLowerCase();c=c.filter(_=>{var C,K,w;return _.ho_ten.toLowerCase().includes(m)||((C=_.so_dien_thoai)==null?void 0:C.includes(m))||((K=_.so_dien_thoai2)==null?void 0:K.includes(m))||((w=_.email)==null?void 0:w.toLowerCase().includes(m))})}return t.value!==1&&(c=c.filter(m=>m.hop_dong_bao_hiem.filter(C=>C.loai_bao_hiem_id==t.value).length>0)),c});return{searchText:e,filterLoaiBaoHiem:t,loaiBaoHiemOptions:o,danhSachKhachHangLoc:u,chonKhachHang:c=>{a("chon-khach-hang",c)},themKhachHangMoi:()=>{a("them-khach-hang")},suaKhachHang:c=>{a("sua-khach-hang",c)},xoaKhachHang:c=>{a("xoa-khach-hang",c)},traCuuBaoHiem:async()=>{const c=ha(e.value);try{let m;if(c!=="D\xE3y 10 ch\u1EEF s\u1ED1 cu\u1ED1i"){h.value="Nh\u1EADp m\xE3 s\u1ED1 BHXH v\xE0 nh\u1EA5n ENTER \u0111\u1EC3 th\xEAm kh\xE1ch h\xE0ng";return}ketQuaTraCuu.value=m,h.value=null}catch(m){h.value=m.message,ketQuaTraCuu.value=null}},loiTraCuu:h}}},da={class:"row q-col-gutter-sm q-mb-md"},ga={class:"col-6"},ma={class:"col-6"},pa={class:"text-grey-8 q-gutter-xs"},fa={key:0,class:"text-center q-pa-md"};function va(n,a,l,e,h,t){const o=M("q-alert");return D(),U("div",null,[T("div",da,[T("div",ga,[i(k,{modelValue:e.searchText,"onUpdate:modelValue":a[1]||(a[1]=u=>e.searchText=u),debounce:"500",label:"T\xECm ki\u1EBFm",dense:"",outlined:"",onKeyup:Be(e.traCuuBaoHiem,["enter"])},{append:d(()=>[e.searchText===""?(D(),S(oe,{key:0,name:"search"})):(D(),S(oe,{key:1,name:"clear",class:"cursor-pointer",onClick:a[0]||(a[0]=u=>e.searchText="")}))]),_:1},8,["modelValue","onKeyup"])]),T("div",ma,[i(G,{modelValue:e.filterLoaiBaoHiem,"onUpdate:modelValue":a[2]||(a[2]=u=>e.filterLoaiBaoHiem=u),options:e.loaiBaoHiemOptions,label:"L\u1ECDc theo lo\u1EA1i b\u1EA3o hi\u1EC3m",dense:"",outlined:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),i(Ge,{bordered:"",separator:""},{default:d(()=>[(D(!0),U(Me,null,Ie(e.danhSachKhachHangLoc,u=>J((D(),S(We,{key:u.id,clickable:""},{default:d(()=>[i(X,{avatar:""},{default:d(()=>[i(Ae,{icon:"person",color:"primary","text-color":"white"})]),_:1}),i(X,null,{default:d(()=>[i(se,{onClick:b=>e.chonKhachHang(u)},{default:d(()=>[R(Q(u.ho_ten),1)]),_:2},1032,["onClick"]),i(se,{caption:"",lines:"2"},{default:d(()=>[T("div",null,Q(u.so_dien_thoai2||u.so_dien_thoai),1),T("div",null,Q(u.email),1)]),_:2},1024)]),_:2},1024),i(X,{side:""},{default:d(()=>[T("div",pa,[i(P,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:te(b=>e.suaKhachHang(u),["stop"])},null,8,["onClick"]),i(P,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:te(b=>e.xoaKhachHang(u.id),["stop"])},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)),[[Ue]])),128)),e.danhSachKhachHangLoc.length?Y("",!0):(D(),U("div",fa," Kh\xF4ng c\xF3 kh\xE1ch h\xE0ng n\xE0o. "))]),_:1}),e.loiTraCuu?(D(),S(o,{key:0,type:"negative",class:"q-mt-sm"},{default:d(()=>[R(Q(e.loiTraCuu),1)]),_:1})):Y("",!0)])}var _a=N(ca,[["render",va]]);const ba={props:{khachHang:{type:Object,default:null}},emits:["dong-dialog","luu-thong-tin"],setup(n,{emit:a}){O();const l=x({id:null,ho_ten:"",ngay_sinh:"",so_dien_thoai:"",so_dien_thoai2:"",email:"",dia_chi:"",ma_so_bhxh:""});return me(()=>{n.khachHang&&(l.value={...n.khachHang})}),{form:l,submitForm:()=>{a("luu-thong-tin",l.value)},dongDialog:()=>{a("dong-dialog")}}}};function Ha(n,a,l,e,h,t){return D(),S(ve,{style:{"min-width":"350px"}},{default:d(()=>[i(pe,null,{default:d(()=>a[7]||(a[7]=[T("div",{class:"text-h6"},"Th\xF4ng tin kh\xE1ch h\xE0ng",-1)])),_:1}),i(be,{onSubmit:e.submitForm,class:"q-gutter-md"},{default:d(()=>[i(k,{modelValue:e.form.ma_so_bhxh,"onUpdate:modelValue":a[0]||(a[0]=o=>e.form.ma_so_bhxh=o),label:"M\xE3 s\u1ED1 BHXH"},null,8,["modelValue"]),i(k,{modelValue:e.form.ho_ten,"onUpdate:modelValue":a[1]||(a[1]=o=>e.form.ho_ten=o),label:"H\u1ECD v\xE0 t\xEAn","lazy-rules":"",rules:[o=>o&&o.length>0||"Vui l\xF2ng nh\u1EADp h\u1ECD t\xEAn"]},null,8,["modelValue","rules"]),i(k,{modelValue:e.form.ngay_sinh,"onUpdate:modelValue":a[2]||(a[2]=o=>e.form.ngay_sinh=o),label:"Ng\xE0y sinh",type:"date"},null,8,["modelValue"]),i(k,{disable:"",modelValue:e.form.so_dien_thoai,"onUpdate:modelValue":a[3]||(a[3]=o=>e.form.so_dien_thoai=o),label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (\u0111\u0103ng k\xFD)"},null,8,["modelValue"]),i(k,{modelValue:e.form.so_dien_thoai2,"onUpdate:modelValue":a[4]||(a[4]=o=>e.form.so_dien_thoai2=o),label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (li\xEAn h\u1EC7)"},null,8,["modelValue"]),i(k,{modelValue:e.form.email,"onUpdate:modelValue":a[5]||(a[5]=o=>e.form.email=o),label:"Email",type:"email"},null,8,["modelValue"]),i(k,{modelValue:e.form.dia_chi,"onUpdate:modelValue":a[6]||(a[6]=o=>e.form.dia_chi=o),label:"\u0110\u1ECBa ch\u1EC9",type:"textarea"},null,8,["modelValue"]),i(fe,{align:"right",class:"text-primary"},{default:d(()=>[J(i(P,{flat:"",label:"\u0110\xF3ng"},null,512),[[_e]]),i(P,{flat:"",label:"L\u01B0u",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var Da=N(ba,[["render",Ha]]);const ya={name:"ContractForm",props:{hopDong:{type:Object,default:null},khachHangId:{type:Number,required:!0},mode:{type:String,default:""}},emits:["dong-dialog","luu-thong-tin"],setup(n,{emit:a}){const l=O(),e=x({id:null,khach_hang_id:n.khachHangId,loai_bao_hiem_id:null,ten_goi_bao_hiem:"",ngay_bat_dau:new Date().toISOString().slice(0,10),ngay_ket_thuc:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().slice(0,10),phi_bao_hiem:null,phuong_thuc_dong:12}),h=H(()=>l.state.taiTuc.loaiBaoHiemOptions),t=[{label:"1 th\xE1ng",value:1},{label:"3 th\xE1ng",value:3},{label:"6 th\xE1ng",value:6},{label:"12 th\xE1ng",value:12},{label:"24 th\xE1ng",value:24},{label:"36 th\xE1ng",value:36},{label:"48 th\xE1ng",value:48},{label:"60 th\xE1ng",value:60}];me(()=>{if(n.hopDong)e.value={...n.hopDong};else if(n.mode==="gia-han"){const s=l.state.taiTuc.khachHangDangChon,f=l.getters["hopDong/getHopDongById"](s.hop_dong_id);e.value.khach_hang_id=n.khachHangId,e.value.ngay_bat_dau=o(f.ngay_ket_thuc),e.value.loai_bao_hiem_id=f.loai_bao_hiem_id,e.value.ten_goi_bao_hiem=f.ten_goi_bao_hiem,e.value.phi_bao_hiem=f.phi_bao_hiem}}),de([()=>e.value.phuong_thuc_dong,()=>e.value.ngay_bat_dau,()=>{var s;return(s=n.hopDong)==null?void 0:s.ngay_ket_thuc}],()=>{var s;n.mode==="gia-han"&&e.value.phuong_thuc_dong&&e.value.ngay_bat_dau&&(e.value.ngay_ket_thuc=u(e.value.ngay_bat_dau,(s=n.hopDong)==null?void 0:s.ngay_ket_thuc,e.value.phuong_thuc_dong))});const o=s=>{const f=new Date(s);return f.setDate(f.getDate()+1),f.toISOString().slice(0,10)},u=(s,f,g)=>{const c=new Date(f),m=new Date;let _=c;return c<=m&&(_=m),_.setMonth(_.getMonth()+g),_.setDate(_.getDate()-1),_.toISOString().slice(0,10)};return{form:e,loaiBaoHiemOptions:h,phuongThucDongOptions:t,submitForm:()=>{a("luu-thong-tin",e.value)},dongDialog:()=>{a("dong-dialog")},ngayTiepTheo:o,tinhNgayKetThuc:u}}},Ca={class:"text-h6"};function ka(n,a,l,e,h,t){return D(),S(ve,{style:{"min-width":"350px"}},{default:d(()=>[i(pe,null,{default:d(()=>[T("div",Ca,Q(l.mode==="gia-han"?"Gia h\u1EA1n h\u1EE3p \u0111\u1ED3ng":l.hopDong?"Ch\u1EC9nh s\u1EEDa h\u1EE3p \u0111\u1ED3ng":"Th\xEAm h\u1EE3p \u0111\u1ED3ng m\u1EDBi"),1)]),_:1}),R(" Khachs hangf id "+Q(l.khachHangId)+" ",1),i(be,{onSubmit:e.submitForm,class:"q-gutter-md"},{default:d(()=>[i(G,{modelValue:e.form.loai_bao_hiem_id,"onUpdate:modelValue":a[0]||(a[0]=o=>e.form.loai_bao_hiem_id=o),options:e.loaiBaoHiemOptions,label:"Lo\u1EA1i b\u1EA3o hi\u1EC3m","emit-value":"","map-options":"",disable:l.mode==="gia-han","lazy-rules":"",rules:[o=>o&&o>1||"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","options","disable","rules"]),i(k,{modelValue:e.form.ten_goi_bao_hiem,"onUpdate:modelValue":a[1]||(a[1]=o=>e.form.ten_goi_bao_hiem=o),label:"T\xEAn g\xF3i b\u1EA3o hi\u1EC3m","lazy-rules":"",rules:[o=>o&&o.length>0||"Vui l\xF2ng nh\u1EADp t\xEAn g\xF3i"]},null,8,["modelValue","rules"]),i(k,{modelValue:e.form.ngay_bat_dau,"onUpdate:modelValue":a[2]||(a[2]=o=>e.form.ngay_bat_dau=o),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",type:"date",disable:l.mode==="gia-han"},null,8,["modelValue","disable"]),i(k,{modelValue:e.form.ngay_ket_thuc,"onUpdate:modelValue":a[3]||(a[3]=o=>e.form.ngay_ket_thuc=o),label:"Ng\xE0y k\u1EBFt th\xFAc",type:"date",rules:[o=>o&&o.length>0||"Vui l\xF2ng nh\u1EADp ng\xE0y k\u1EBFt th\xFAc",o=>o>e.form.ngay_bat_dau||"Ng\xE0y k\u1EBFt th\xFAc ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),i(k,{modelValue:e.form.phi_bao_hiem,"onUpdate:modelValue":a[4]||(a[4]=o=>e.form.phi_bao_hiem=o),label:"M\u1EE9c ph\xED",type:"number"},null,8,["modelValue"]),l.mode==="gia-han"?(D(),S(G,{key:0,modelValue:e.form.phuong_thuc_dong,"onUpdate:modelValue":a[5]||(a[5]=o=>e.form.phuong_thuc_dong=o),options:e.phuongThucDongOptions,label:"Ph\u01B0\u01A1ng th\u1EE9c \u0111\xF3ng","emit-value":"","map-options":"","lazy-rules":"",rules:[o=>o!==null||"Vui l\xF2ng ch\u1ECDn ph\u01B0\u01A1ng th\u1EE9c \u0111\xF3ng"]},null,8,["modelValue","options","rules"])):Y("",!0),i(fe,{align:"right",class:"text-primary"},{default:d(()=>[J(i(P,{flat:"",label:"\u0110\xF3ng",onClick:e.dongDialog},null,8,["onClick"]),[[_e]]),i(P,{flat:"",label:"L\u01B0u",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var Ta=N(ya,[["render",ka]]);const xa={name:"CustomerContract",components:{CustomerList:_a,ContractList:Re,CustomerForm:Da,ContractForm:Ta},setup(){const n=O(),a=x("khachHang"),l=x(!1),e=x(!1),h=H(()=>n.state.khachHang.danhSachKhachHang),t=H(()=>n.state.khachHang.khachHangDangChon),o=H(()=>t.value?n.getters["hopDong/danhSachHopDongTheoKhachHangId"](t.value.id):[]),u=H(()=>n.state.hopDong.hopDongDangChon),b=p=>{n.dispatch("khachHang/chonKhachHang",p),a.value="hopDong"},y=()=>{n.dispatch("khachHang/chonKhachHang",null),l.value=!0},s=p=>{n.dispatch("khachHang/chonKhachHang",p),l.value=!0},f=p=>{n.dispatch("khachHang/xoaKhachHang",p)},g=()=>{l.value=!1},c=p=>{p.id?n.dispatch("khachHang/suaKhachHang",p):n.dispatch("khachHang/themKhachHang",p),g()},m=()=>{n.dispatch("hopDong/chonHopDong",null),e.value=!0},_=p=>{n.dispatch("hopDong/chonHopDong",p),e.value=!0},C=p=>{n.dispatch("hopDong/xoaHopDong",p)},K=()=>{e.value=!1};return{tab:a,dialogKhachHangMo:l,dialogHopDongMo:e,danhSachKhachHang:h,khachHangDangChon:t,danhSachHopDongTheoKhachHang:o,hopDongDangChon:u,chonKhachHang:b,themKhachHangMoi:y,suaKhachHang:s,xoaKhachHang:f,dongDialogKhachHang:g,luuThongTinKhachHang:c,themHopDongMoi:m,suaHopDong:_,xoaHopDong:C,dongDialogHopDong:K,luuThongTinHopDong:p=>{p.id?n.dispatch("hopDong/suaHopDong",p):n.dispatch("hopDong/themHopDong",p),K()}}}},Va={class:"row q-col-gutter-md"},Sa={class:"col-12"},Ka={class:"col-12"},Pa={key:1,class:"text-center q-pa-md"};function wa(n,a,l,e,h,t){const o=M("customer-list"),u=M("contract-list"),b=M("customer-form"),y=M("contract-form");return D(),S(Ye,{class:"q-pa-md"},{default:d(()=>[T("div",Va,[T("div",Sa,[i(Oe,null,{default:d(()=>[i(ke),i(P,{label:"Th\xEAm kh\xE1ch h\xE0ng m\u1EDBi",color:"primary",onClick:e.themKhachHangMoi},null,8,["onClick"])]),_:1})]),T("div",Ka,[i(je,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>e.tab=s),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:d(()=>[i(re,{name:"khachHang",label:"Kh\xE1ch h\xE0ng"}),i(re,{name:"hopDong",label:"H\u1EE3p \u0111\u1ED3ng"})]),_:1},8,["modelValue"]),i(Ne),i(ta,{modelValue:e.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>e.tab=s),animated:""},{default:d(()=>[i(ce,{name:"khachHang"},{default:d(()=>[i(o,{"danh-sach-khach-hang":e.danhSachKhachHang,onChonKhachHang:e.chonKhachHang,onThemKhachHang:e.themKhachHangMoi,onSuaKhachHang:e.suaKhachHang,onXoaKhachHang:e.xoaKhachHang},null,8,["danh-sach-khach-hang","onChonKhachHang","onThemKhachHang","onSuaKhachHang","onXoaKhachHang"])]),_:1}),i(ce,{name:"hopDong"},{default:d(()=>[e.khachHangDangChon?(D(),S(u,{key:0,"khach-hang-id":e.khachHangDangChon.id,"danh-sach-hop-dong":e.danhSachHopDongTheoKhachHang,onThemHopDong:e.themHopDongMoi,onSuaHopDong:e.suaHopDong,onXoaHopDong:e.xoaHopDong},null,8,["khach-hang-id","danh-sach-hop-dong","onThemHopDong","onSuaHopDong","onXoaHopDong"])):(D(),U("div",Pa," Ch\u1ECDn m\u1ED9t kh\xE1ch h\xE0ng \u0111\u1EC3 xem danh s\xE1ch h\u1EE3p \u0111\u1ED3ng. "))]),_:1})]),_:1},8,["modelValue"])])]),i(le,{modelValue:e.dialogKhachHangMo,"onUpdate:modelValue":a[2]||(a[2]=s=>e.dialogKhachHangMo=s),persistent:""},{default:d(()=>[i(b,{"khach-hang":e.khachHangDangChon,onDongDialog:e.dongDialogKhachHang,onLuuThongTin:e.luuThongTinKhachHang},null,8,["khach-hang","onDongDialog","onLuuThongTin"])]),_:1},8,["modelValue"]),i(le,{modelValue:e.dialogHopDongMo,"onUpdate:modelValue":a[3]||(a[3]=s=>e.dialogHopDongMo=s),persistent:""},{default:d(()=>[i(y,{hopDong:e.hopDongDangChon,khachHangId:e.khachHangDangChon?e.khachHangDangChon.id:null,onDongDialog:e.dongDialogHopDong,onLuuThongTin:e.luuThongTinHopDong},null,8,["hopDong","khachHangId","onDongDialog","onLuuThongTin"])]),_:1},8,["modelValue"])]),_:1})}var Oa=N(xa,[["render",wa]]);export{Oa as default};
