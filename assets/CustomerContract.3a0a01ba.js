import{Q as ke}from"./QSpace.cc951e89.js";import{c as R,f as Ce,j as q,n as Ve,k as xe,m as B,p as E,t as ee,v as z,u as j,r as T,a as b,w as re,g as he,F as Te,h as S,ao as Ke,ap as Se,b as G,aq as Pe,y as we,A as Qe,H as qe,_ as U,Y as O,a1 as V,a7 as A,al as k,a2 as l,ar as y,$ as g,a9 as Le,a8 as Me,a6 as de,G as W,Z as P,as as Be,a4 as ce,a5 as L,a3 as K,at as ae,ab as Ie,E as ge,am as me,au as pe,an as fe,a0 as I,av as Ae,aw as ne}from"./index.f329338c.js";import{Q as Ue}from"./QToolbar.fbf5ca44.js";import{u as Oe,a as Ne,b as Fe,g as oe,s as te,c as Ee}from"./QTabs.eb07e911.js";import{c as ze}from"./rtl.c67e8ea4.js";import{Q as je}from"./QPage.70dbf889.js";import{Q as Y,C as ve,a as Xe}from"./ContractList.631f95e2.js";import{Q as Ye,b as Re,c as X,a as le}from"./QList.5fb05c1a.js";import{Q as _e}from"./QForm.0e840cda.js";var ie=R({name:"QTab",props:Oe,emits:Ne,setup(o,{slots:a,emit:i}){const{renderTab:e}=Fe(o,a,i);return()=>e("div")}});function Ge(o){const a=[.06,6,50];return typeof o=="string"&&o.length&&o.split(":").forEach((i,e)=>{const r=parseFloat(i);r&&(a[e]=r)}),a}var We=Ce({name:"touch-swipe",beforeMount(o,{value:a,arg:i,modifiers:e}){if(e.mouse!==!0&&q.has.touch!==!0)return;const r=e.mouseCapture===!0?"Capture":"",t={handler:a,sensitivity:Ge(i),direction:oe(e),noop:Ve,mouseStart(n){te(n,t)&&xe(n)&&(B(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(te(n,t)){const c=n.target;B(t,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,c){q.is.firefox===!0&&E(o,!0);const H=ee(n);t.event={x:H.left,y:H.top,time:Date.now(),mouse:c===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){z(n);return}const c=Date.now()-t.event.time;if(c===0)return;const H=ee(n),D=H.left-t.event.x,s=Math.abs(D),h=H.top-t.event.y,d=Math.abs(h);if(t.event.mouse!==!0){if(s<t.sensitivity[1]&&d<t.sensitivity[1]){t.end(n);return}}else if(window.getSelection().toString()!==""){t.end(n);return}else if(s<t.sensitivity[2]&&d<t.sensitivity[2])return;const f=s/c,v=d/c;t.direction.vertical===!0&&s<d&&s<100&&v>t.sensitivity[0]&&(t.event.dir=h<0?"up":"down"),t.direction.horizontal===!0&&s>d&&d<100&&f>t.sensitivity[0]&&(t.event.dir=D<0?"left":"right"),t.direction.up===!0&&s<d&&h<0&&s<100&&v>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&s<d&&h>0&&s<100&&v>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&s>d&&D<0&&d<100&&f>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&s>d&&D>0&&d<100&&f>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(z(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ze(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const C=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(C,50):C()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:c,distance:{x:s,y:d}})):t.end(n)},end(n){t.event!==void 0&&(j(t,"temp"),q.is.firefox===!0&&E(o,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),n!==void 0&&t.event.dir!==!1&&z(n),t.event=void 0)}};if(o.__qtouchswipe=t,e.mouse===!0){const n=e.mouseCapture===!0||e.mousecapture===!0?"Capture":"";B(t,"main",[[o,"mousedown","mouseStart",`passive${n}`]])}q.has.touch===!0&&B(t,"main",[[o,"touchstart","touchStart",`passive${e.capture===!0?"Capture":""}`],[o,"touchmove","noop","notPassiveCapture"]])},updated(o,a){const i=o.__qtouchswipe;i!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&i.end(),i.handler=a.value),i.direction=oe(a.modifiers))},beforeUnmount(o){const a=o.__qtouchswipe;a!==void 0&&(j(a,"main"),j(a,"temp"),q.is.firefox===!0&&E(o,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete o.__qtouchswipe)}});function Ze(){let o=Object.create(null);return{getCache:(a,i)=>o[a]===void 0?o[a]=typeof i=="function"?i():i:o[a],setCache(a,i){o[a]=i},hasCache(a){return Object.hasOwnProperty.call(o,a)},clearCache(a){a!==void 0?delete o[a]:o=Object.create(null)}}}const Je={name:{required:!0},disable:Boolean},se={setup(o,{slots:a}){return()=>S("div",{class:"q-panel scroll",role:"tabpanel"},G(a.default))}},$e={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ea=["update:modelValue","beforeTransition","transition"];function aa(){const{props:o,emit:a,proxy:i}=he(),{getCache:e}=Ze();let r,t;const n=T(null),c=T(null);function H(u){const p=o.vertical===!0?"up":"left";Q((i.$q.lang.rtl===!0?-1:1)*(u.direction===p?1:-1))}const D=b(()=>[[We,H,void 0,{horizontal:o.vertical!==!0,vertical:o.vertical,mouse:!0}]]),s=b(()=>o.transitionPrev||`slide-${o.vertical===!0?"down":"right"}`),h=b(()=>o.transitionNext||`slide-${o.vertical===!0?"up":"left"}`),d=b(()=>`--q-transition-duration: ${o.transitionDuration}ms`),f=b(()=>typeof o.modelValue=="string"||typeof o.modelValue=="number"?o.modelValue:String(o.modelValue)),v=b(()=>({include:o.keepAliveInclude,exclude:o.keepAliveExclude,max:o.keepAliveMax})),_=b(()=>o.keepAliveInclude!==void 0||o.keepAliveExclude!==void 0);re(()=>o.modelValue,(u,p)=>{const x=m(u)===!0?F(u):-1;t!==!0&&Z(x===-1?0:x<F(p)?-1:1),n.value!==x&&(n.value=x,a("beforeTransition",u,p),Te(()=>{a("transition",u,p)}))});function C(){Q(1)}function w(){Q(-1)}function N(u){a("update:modelValue",u)}function m(u){return u!=null&&u!==""}function F(u){return r.findIndex(p=>p.props.name===u&&p.props.disable!==""&&p.props.disable!==!0)}function be(){return r.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function Z(u){const p=u!==0&&o.animated===!0&&n.value!==-1?"q-transition--"+(u===-1?s.value:h.value):null;c.value!==p&&(c.value=p)}function Q(u,p=n.value){let x=p+u;for(;x!==-1&&x<r.length;){const M=r[x];if(M!==void 0&&M.props.disable!==""&&M.props.disable!==!0){Z(u),t=!0,a("update:modelValue",M.props.name),setTimeout(()=>{t=!1});return}x+=u}o.infinite===!0&&r.length!==0&&p!==-1&&p!==r.length&&Q(u,u===-1?r.length:-1)}function J(){const u=F(o.modelValue);return n.value!==u&&(n.value=u),!0}function $(){const u=m(o.modelValue)===!0&&J()&&r[n.value];return o.keepAlive===!0?[S(Pe,v.value,[S(_.value===!0?e(f.value,()=>({...se,name:f.value})):se,{key:f.value,style:d.value},()=>u)])]:[S("div",{class:"q-panel scroll",style:d.value,key:f.value,role:"tabpanel"},[u])]}function He(){if(r.length!==0)return o.animated===!0?[S(Ke,{name:c.value},$)]:$()}function De(u){return r=Se(G(u.default,[])).filter(p=>p.props!==null&&p.props.slot===void 0&&m(p.props.name)===!0),r.length}function ye(){return r}return Object.assign(i,{next:C,previous:w,goTo:N}),{panelIndex:n,panelDirectives:D,updatePanelsList:De,updatePanelIndex:J,getPanelContent:He,getEnabledPanels:be,getPanels:ye,isValidPanelName:m,keepAliveProps:v,needsUniqueKeepAliveWrapper:_,goToPanelByOffset:Q,goToPanel:N,nextPanel:C,previousPanel:w}}var ue=R({name:"QTabPanel",props:Je,setup(o,{slots:a}){return()=>S("div",{class:"q-tab-panel",role:"tabpanel"},G(a.default))}}),na=R({name:"QTabPanels",props:{...$e,...we},emits:ea,setup(o,{slots:a}){const i=he(),e=Qe(o,i.proxy.$q),{updatePanelsList:r,getPanelContent:t,panelDirectives:n}=aa(),c=b(()=>"q-tab-panels q-panel-parent"+(e.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(a),qe("div",{class:c.value},t(),"pan",o.swipeable,()=>n.value))}});const oa={props:{danhSachKhachHang:{type:Array,required:!0}},emits:["chon-khach-hang","them-khach-hang","sua-khach-hang","xoa-khach-hang"],setup(o,{emit:a}){const i=O(),e=T(""),r=T(1),t=b(()=>i.state.taiTuc.loaiBaoHiemOptions),n=b(()=>{let h=o.danhSachKhachHang;if(e.value){const d=e.value.toLowerCase();h=h.filter(f=>{var v,_,C;return f.ho_ten.toLowerCase().includes(d)||((v=f.so_dien_thoai)==null?void 0:v.includes(d))||((_=f.so_dien_thoai2)==null?void 0:_.includes(d))||((C=f.email)==null?void 0:C.toLowerCase().includes(d))})}return r.value!==1&&(h=h.filter(d=>d.hop_dong_bao_hiem.filter(v=>v.loai_bao_hiem_id==r.value).length>0)),h});return{searchText:e,filterLoaiBaoHiem:r,loaiBaoHiemOptions:t,danhSachKhachHangLoc:n,chonKhachHang:h=>{a("chon-khach-hang",h)},themKhachHangMoi:()=>{a("them-khach-hang")},suaKhachHang:h=>{a("sua-khach-hang",h)},xoaKhachHang:h=>{a("xoa-khach-hang",h)}}}},ta={class:"row q-col-gutter-sm q-mb-md"},la={class:"col-6"},ia={class:"col-6"},sa={class:"text-grey-8 q-gutter-xs"},ua={key:0,class:"text-center q-pa-md"};function ra(o,a,i,e,r,t){return V(),A("div",null,[k("div",ta,[k("div",la,[l(y,{modelValue:e.searchText,"onUpdate:modelValue":a[0]||(a[0]=n=>e.searchText=n),label:"T\xECm ki\u1EBFm",dense:"",outlined:""},null,8,["modelValue"])]),k("div",ia,[l(Y,{modelValue:e.filterLoaiBaoHiem,"onUpdate:modelValue":a[1]||(a[1]=n=>e.filterLoaiBaoHiem=n),options:e.loaiBaoHiemOptions,label:"L\u1ECDc theo lo\u1EA1i b\u1EA3o hi\u1EC3m",dense:"",outlined:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),l(Ye,{bordered:"",separator:""},{default:g(()=>[(V(!0),A(Le,null,Me(e.danhSachKhachHangLoc,n=>W((V(),P(Re,{key:n.id,clickable:""},{default:g(()=>[l(X,{avatar:""},{default:g(()=>[l(Be,{icon:"person",color:"primary","text-color":"white"})]),_:1}),l(X,null,{default:g(()=>[l(le,{onClick:c=>e.chonKhachHang(n)},{default:g(()=>[ce(L(n.ho_ten),1)]),_:2},1032,["onClick"]),l(le,{caption:"",lines:"2"},{default:g(()=>[k("div",null,L(n.so_dien_thoai2||n.so_dien_thoai),1),k("div",null,L(n.email),1)]),_:2},1024)]),_:2},1024),l(X,{side:""},{default:g(()=>[k("div",sa,[l(K,{size:"12px",flat:"",dense:"",round:"",icon:"edit",onClick:ae(c=>e.suaKhachHang(n),["stop"])},null,8,["onClick"]),l(K,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:ae(c=>e.xoaKhachHang(n.id),["stop"])},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)),[[Ie]])),128)),e.danhSachKhachHangLoc.length?de("",!0):(V(),A("div",ua," Kh\xF4ng c\xF3 kh\xE1ch h\xE0ng n\xE0o. "))]),_:1})])}var ha=U(oa,[["render",ra]]);const da={props:{khachHang:{type:Object,default:null}},emits:["dong-dialog","luu-thong-tin"],setup(o,{emit:a}){O();const i=T({id:null,ho_ten:"",ngay_sinh:"",so_dien_thoai:"",so_dien_thoai2:"",email:"",dia_chi:"",ma_so_bhxh:""});return ge(()=>{o.khachHang&&(i.value={...o.khachHang})}),{form:i,submitForm:()=>{a("luu-thong-tin",i.value)},dongDialog:()=>{a("dong-dialog")}}}};function ca(o,a,i,e,r,t){return V(),P(fe,{style:{"min-width":"350px"}},{default:g(()=>[l(me,null,{default:g(()=>a[7]||(a[7]=[k("div",{class:"text-h6"},"Th\xF4ng tin kh\xE1ch h\xE0ng",-1)])),_:1}),l(_e,{onSubmit:e.submitForm,class:"q-gutter-md"},{default:g(()=>[l(y,{modelValue:e.form.ma_so_bhxh,"onUpdate:modelValue":a[0]||(a[0]=n=>e.form.ma_so_bhxh=n),label:"M\xE3 s\u1ED1 BHXH"},null,8,["modelValue"]),l(y,{modelValue:e.form.ho_ten,"onUpdate:modelValue":a[1]||(a[1]=n=>e.form.ho_ten=n),label:"H\u1ECD v\xE0 t\xEAn","lazy-rules":"",rules:[n=>n&&n.length>0||"Vui l\xF2ng nh\u1EADp h\u1ECD t\xEAn"]},null,8,["modelValue","rules"]),l(y,{modelValue:e.form.ngay_sinh,"onUpdate:modelValue":a[2]||(a[2]=n=>e.form.ngay_sinh=n),label:"Ng\xE0y sinh",type:"date"},null,8,["modelValue"]),l(y,{disable:"",modelValue:e.form.so_dien_thoai,"onUpdate:modelValue":a[3]||(a[3]=n=>e.form.so_dien_thoai=n),label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (\u0111\u0103ng k\xFD)"},null,8,["modelValue"]),l(y,{modelValue:e.form.so_dien_thoai2,"onUpdate:modelValue":a[4]||(a[4]=n=>e.form.so_dien_thoai2=n),label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (li\xEAn h\u1EC7)"},null,8,["modelValue"]),l(y,{modelValue:e.form.email,"onUpdate:modelValue":a[5]||(a[5]=n=>e.form.email=n),label:"Email",type:"email"},null,8,["modelValue"]),l(y,{modelValue:e.form.dia_chi,"onUpdate:modelValue":a[6]||(a[6]=n=>e.form.dia_chi=n),label:"\u0110\u1ECBa ch\u1EC9",type:"textarea"},null,8,["modelValue"]),l(pe,{align:"right",class:"text-primary"},{default:g(()=>[W(l(K,{flat:"",label:"\u0110\xF3ng"},null,512),[[ve]]),l(K,{flat:"",label:"L\u01B0u",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var ga=U(da,[["render",ca]]);const ma={name:"ContractForm",props:{hopDong:{type:Object,default:null},khachHangId:{type:Number,required:!0},mode:{type:String,default:""}},emits:["dong-dialog","luu-thong-tin"],setup(o,{emit:a}){const i=O(),e=T({id:null,khach_hang_id:o.khachHangId,loai_bao_hiem_id:null,ten_goi_bao_hiem:"",ngay_bat_dau:new Date().toISOString().slice(0,10),ngay_ket_thuc:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().slice(0,10),phi_bao_hiem:null,phuong_thuc_dong:12}),r=b(()=>i.state.taiTuc.loaiBaoHiemOptions),t=[{label:"1 th\xE1ng",value:1},{label:"3 th\xE1ng",value:3},{label:"6 th\xE1ng",value:6},{label:"12 th\xE1ng",value:12},{label:"24 th\xE1ng",value:24},{label:"36 th\xE1ng",value:36},{label:"48 th\xE1ng",value:48},{label:"60 th\xE1ng",value:60}];ge(()=>{if(o.hopDong)e.value={...o.hopDong};else if(o.mode==="gia-han"){const s=i.state.taiTuc.khachHangDangChon,h=i.getters["hopDong/getHopDongById"](s.hop_dong_id);e.value.khach_hang_id=o.khachHangId,e.value.ngay_bat_dau=n(h.ngay_ket_thuc),e.value.loai_bao_hiem_id=h.loai_bao_hiem_id,e.value.ten_goi_bao_hiem=h.ten_goi_bao_hiem,e.value.phi_bao_hiem=h.phi_bao_hiem}}),re([()=>e.value.phuong_thuc_dong,()=>e.value.ngay_bat_dau,()=>{var s;return(s=o.hopDong)==null?void 0:s.ngay_ket_thuc}],()=>{var s;o.mode==="gia-han"&&e.value.phuong_thuc_dong&&e.value.ngay_bat_dau&&(e.value.ngay_ket_thuc=c(e.value.ngay_bat_dau,(s=o.hopDong)==null?void 0:s.ngay_ket_thuc,e.value.phuong_thuc_dong))});const n=s=>{const h=new Date(s);return h.setDate(h.getDate()+1),h.toISOString().slice(0,10)},c=(s,h,d)=>{const f=new Date(h),v=new Date;let _=f;return f<=v&&(_=v),_.setMonth(_.getMonth()+d),_.setDate(_.getDate()-1),_.toISOString().slice(0,10)};return{form:e,loaiBaoHiemOptions:r,phuongThucDongOptions:t,submitForm:()=>{a("luu-thong-tin",e.value)},dongDialog:()=>{a("dong-dialog")},ngayTiepTheo:n,tinhNgayKetThuc:c}}},pa={class:"text-h6"};function fa(o,a,i,e,r,t){return V(),P(fe,{style:{"min-width":"350px"}},{default:g(()=>[l(me,null,{default:g(()=>[k("div",pa,L(i.mode==="gia-han"?"Gia h\u1EA1n h\u1EE3p \u0111\u1ED3ng":i.hopDong?"Ch\u1EC9nh s\u1EEDa h\u1EE3p \u0111\u1ED3ng":"Th\xEAm h\u1EE3p \u0111\u1ED3ng m\u1EDBi"),1)]),_:1}),ce(" Khachs hangf id "+L(i.khachHangId)+" ",1),l(_e,{onSubmit:e.submitForm,class:"q-gutter-md"},{default:g(()=>[l(Y,{modelValue:e.form.loai_bao_hiem_id,"onUpdate:modelValue":a[0]||(a[0]=n=>e.form.loai_bao_hiem_id=n),options:e.loaiBaoHiemOptions,label:"Lo\u1EA1i b\u1EA3o hi\u1EC3m","emit-value":"","map-options":"",disable:i.mode==="gia-han","lazy-rules":"",rules:[n=>n&&n>1||"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","options","disable","rules"]),l(y,{modelValue:e.form.ten_goi_bao_hiem,"onUpdate:modelValue":a[1]||(a[1]=n=>e.form.ten_goi_bao_hiem=n),label:"T\xEAn g\xF3i b\u1EA3o hi\u1EC3m","lazy-rules":"",rules:[n=>n&&n.length>0||"Vui l\xF2ng nh\u1EADp t\xEAn g\xF3i"]},null,8,["modelValue","rules"]),l(y,{modelValue:e.form.ngay_bat_dau,"onUpdate:modelValue":a[2]||(a[2]=n=>e.form.ngay_bat_dau=n),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",type:"date",disable:i.mode==="gia-han"},null,8,["modelValue","disable"]),l(y,{modelValue:e.form.ngay_ket_thuc,"onUpdate:modelValue":a[3]||(a[3]=n=>e.form.ngay_ket_thuc=n),label:"Ng\xE0y k\u1EBFt th\xFAc",type:"date",rules:[n=>n&&n.length>0||"Vui l\xF2ng nh\u1EADp ng\xE0y k\u1EBFt th\xFAc",n=>n>e.form.ngay_bat_dau||"Ng\xE0y k\u1EBFt th\xFAc ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),l(y,{modelValue:e.form.phi_bao_hiem,"onUpdate:modelValue":a[4]||(a[4]=n=>e.form.phi_bao_hiem=n),label:"M\u1EE9c ph\xED",type:"number"},null,8,["modelValue"]),i.mode==="gia-han"?(V(),P(Y,{key:0,modelValue:e.form.phuong_thuc_dong,"onUpdate:modelValue":a[5]||(a[5]=n=>e.form.phuong_thuc_dong=n),options:e.phuongThucDongOptions,label:"Ph\u01B0\u01A1ng th\u1EE9c \u0111\xF3ng","emit-value":"","map-options":"","lazy-rules":"",rules:[n=>n!==null||"Vui l\xF2ng ch\u1ECDn ph\u01B0\u01A1ng th\u1EE9c \u0111\xF3ng"]},null,8,["modelValue","options","rules"])):de("",!0),l(pe,{align:"right",class:"text-primary"},{default:g(()=>[W(l(K,{flat:"",label:"\u0110\xF3ng",onClick:e.dongDialog},null,8,["onClick"]),[[ve]]),l(K,{flat:"",label:"L\u01B0u",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var va=U(ma,[["render",fa]]);const _a={name:"CustomerContract",components:{CustomerList:ha,ContractList:Xe,CustomerForm:ga,ContractForm:va},setup(){const o=O(),a=T("khachHang"),i=T(!1),e=T(!1),r=b(()=>o.state.khachHang.danhSachKhachHang),t=b(()=>o.state.khachHang.khachHangDangChon),n=b(()=>t.value?o.getters["hopDong/danhSachHopDongTheoKhachHangId"](t.value.id):[]),c=b(()=>o.state.hopDong.hopDongDangChon),H=m=>{o.dispatch("khachHang/chonKhachHang",m),a.value="hopDong"},D=()=>{o.dispatch("khachHang/chonKhachHang",null),i.value=!0},s=m=>{o.dispatch("khachHang/chonKhachHang",m),i.value=!0},h=m=>{o.dispatch("khachHang/xoaKhachHang",m)},d=()=>{i.value=!1},f=m=>{m.id?o.dispatch("khachHang/suaKhachHang",m):o.dispatch("khachHang/themKhachHang",m),d()},v=()=>{o.dispatch("hopDong/chonHopDong",null),e.value=!0},_=m=>{o.dispatch("hopDong/chonHopDong",m),e.value=!0},C=m=>{o.dispatch("hopDong/xoaHopDong",m)},w=()=>{e.value=!1};return{tab:a,dialogKhachHangMo:i,dialogHopDongMo:e,danhSachKhachHang:r,khachHangDangChon:t,danhSachHopDongTheoKhachHang:n,hopDongDangChon:c,chonKhachHang:H,themKhachHangMoi:D,suaKhachHang:s,xoaKhachHang:h,dongDialogKhachHang:d,luuThongTinKhachHang:f,themHopDongMoi:v,suaHopDong:_,xoaHopDong:C,dongDialogHopDong:w,luuThongTinHopDong:m=>{m.id?o.dispatch("hopDong/suaHopDong",m):o.dispatch("hopDong/themHopDong",m),w()}}}},ba={class:"row q-col-gutter-md"},Ha={class:"col-12"},Da={class:"col-12"},ya={key:1,class:"text-center q-pa-md"};function ka(o,a,i,e,r,t){const n=I("customer-list"),c=I("contract-list"),H=I("customer-form"),D=I("contract-form");return V(),P(je,{class:"q-pa-md"},{default:g(()=>[k("div",ba,[k("div",Ha,[l(Ue,null,{default:g(()=>[l(ke),l(K,{label:"Th\xEAm kh\xE1ch h\xE0ng m\u1EDBi",color:"primary",onClick:e.themKhachHangMoi},null,8,["onClick"])]),_:1})]),k("div",Da,[l(Ee,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>e.tab=s),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:g(()=>[l(ie,{name:"khachHang",label:"Kh\xE1ch h\xE0ng"}),l(ie,{name:"hopDong",label:"H\u1EE3p \u0111\u1ED3ng"})]),_:1},8,["modelValue"]),l(Ae),l(na,{modelValue:e.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>e.tab=s),animated:""},{default:g(()=>[l(ue,{name:"khachHang"},{default:g(()=>[l(n,{"danh-sach-khach-hang":e.danhSachKhachHang,onChonKhachHang:e.chonKhachHang,onThemKhachHang:e.themKhachHangMoi,onSuaKhachHang:e.suaKhachHang,onXoaKhachHang:e.xoaKhachHang},null,8,["danh-sach-khach-hang","onChonKhachHang","onThemKhachHang","onSuaKhachHang","onXoaKhachHang"])]),_:1}),l(ue,{name:"hopDong"},{default:g(()=>[e.khachHangDangChon?(V(),P(c,{key:0,"khach-hang-id":e.khachHangDangChon.id,"danh-sach-hop-dong":e.danhSachHopDongTheoKhachHang,onThemHopDong:e.themHopDongMoi,onSuaHopDong:e.suaHopDong,onXoaHopDong:e.xoaHopDong},null,8,["khach-hang-id","danh-sach-hop-dong","onThemHopDong","onSuaHopDong","onXoaHopDong"])):(V(),A("div",ya," Ch\u1ECDn m\u1ED9t kh\xE1ch h\xE0ng \u0111\u1EC3 xem danh s\xE1ch h\u1EE3p \u0111\u1ED3ng. "))]),_:1})]),_:1},8,["modelValue"])])]),l(ne,{modelValue:e.dialogKhachHangMo,"onUpdate:modelValue":a[2]||(a[2]=s=>e.dialogKhachHangMo=s),persistent:""},{default:g(()=>[l(H,{"khach-hang":e.khachHangDangChon,onDongDialog:e.dongDialogKhachHang,onLuuThongTin:e.luuThongTinKhachHang},null,8,["khach-hang","onDongDialog","onLuuThongTin"])]),_:1},8,["modelValue"]),l(ne,{modelValue:e.dialogHopDongMo,"onUpdate:modelValue":a[3]||(a[3]=s=>e.dialogHopDongMo=s),persistent:""},{default:g(()=>[l(D,{hopDong:e.hopDongDangChon,khachHangId:e.khachHangDangChon?e.khachHangDangChon.id:null,onDongDialog:e.dongDialogHopDong,onLuuThongTin:e.luuThongTinHopDong},null,8,["hopDong","khachHangId","onDongDialog","onLuuThongTin"])]),_:1},8,["modelValue"])]),_:1})}var qa=U(_a,[["render",ka]]);export{qa as default};
