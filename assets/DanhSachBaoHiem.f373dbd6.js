import{d as S,e as D,a as X,Q}from"./rtl.555b5e57.js";import{i as _,e as x,a as r,g as N,l as q,H as P,b as V,c as w,_ as K,aj as O,ak as U,al as F,Y as b,Z as v,$ as l,am as m,a0 as i,a3 as I,a4 as z,a5 as M,a2 as $,a6 as j,a1 as f,an as A,ao as k,a8 as p,ap as y,F as Y,aq as E}from"./index.c9957bda.js";import{Q as G,a as R,C as Z}from"./ClosePopup.c8c9c405.js";import{Q as J}from"./QForm.2d1ccd35.js";const W={position:{type:String,default:"bottom-right",validator:a=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(a)},offset:{type:Array,validator:a=>a.length===2},expand:Boolean};function ee(){const{props:a,proxy:{$q:t}}=N(),s=_(q,x);if(s===x)return console.error("QPageSticky needs to be child of QLayout"),x;const B=r(()=>{const n=a.position;return{top:n.indexOf("top")!==-1,right:n.indexOf("right")!==-1,bottom:n.indexOf("bottom")!==-1,left:n.indexOf("left")!==-1,vertical:n==="top"||n==="bottom",horizontal:n==="left"||n==="right"}}),o=r(()=>s.header.offset),u=r(()=>s.right.offset),e=r(()=>s.footer.offset),h=r(()=>s.left.offset),L=r(()=>{let n=0,d=0;const g=B.value,H=t.lang.rtl===!0?-1:1;g.top===!0&&o.value!==0?d=`${o.value}px`:g.bottom===!0&&e.value!==0&&(d=`${-e.value}px`),g.left===!0&&h.value!==0?n=`${H*h.value}px`:g.right===!0&&u.value!==0&&(n=`${-H*u.value}px`);const c={transform:`translate(${n}, ${d})`};return a.offset&&(c.margin=`${a.offset[1]}px ${a.offset[0]}px`),g.vertical===!0?(h.value!==0&&(c[t.lang.rtl===!0?"right":"left"]=`${h.value}px`),u.value!==0&&(c[t.lang.rtl===!0?"left":"right"]=`${u.value}px`)):g.horizontal===!0&&(o.value!==0&&(c.top=`${o.value}px`),e.value!==0&&(c.bottom=`${e.value}px`)),c}),T=r(()=>`q-page-sticky row flex-center fixed-${a.position} q-page-sticky--${a.expand===!0?"expand":"shrink"}`);function C(n){const d=P(n.default);return V("div",{class:T.value,style:L.value},a.expand===!0?d:[V("div",d)])}return{$layout:s,getStickyContent:C}}var te=w({name:"QPageSticky",props:W,setup(a,{slots:t}){const{getStickyContent:s}=ee();return()=>s(t)}});const ae={data(){return{baoHiemXoaId:null,hienThiDialog:!1,cheDoDialog:null,baoHiemDangXuLy:{},loaiBaoHiemOptions:["TNDS b\u1EAFt bu\u1ED9c","B\u1EA3o hi\u1EC3m th\xE2n v\u1ECF"]}},computed:{...O("baohiem",["isLoading"]),...U("baohiem",["danhSachBaoHiemSapXep"])},methods:{...F("baohiem",["layDanhSachBaoHiem","xoaBaoHiem","themBaoHiem","capNhatBaoHiem"]),moDialogThemMoi(){this.cheDoDialog="them",this.baoHiemDangXuLy={},this.hienThiDialog=!0},moDialogChinhSua(a){this.cheDoDialog="chinh-sua",this.baoHiemDangXuLy={...a,ngayBatDau:a.ngayBatDau.slice(0,10),ngayKetThuc:a.ngayKetThuc.slice(0,10)},this.hienThiDialog=!0},submitForm(){this.$refs.form.validate().then(a=>{a&&(this.cheDoDialog==="them"?this.themBaoHiem(this.baoHiemDangXuLy):this.capNhatBaoHiem(this.baoHiemDangXuLy),this.hienThiDialog=!1)})},hienThiXacNhanXoa(a){this.$q.dialog({title:"X\xE1c nh\u1EADn x\xF3a",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a b\u1EA3o hi\u1EC3m n\xE0y?",cancel:!0,persistent:!0}).onOk(()=>{this.xoaBaoHiem(a)})}},mounted(){this.layDanhSachBaoHiem()}},oe={class:"text-weight-bold"},ie={class:"text-caption text-grey"},le={class:"text-caption text-grey"},ne={class:"q-gutter-sm"},se={class:"text-h6"},ue={class:"text-right q-mt-md"};function re(a,t,s,B,o,u){return b(),v(G,{class:"q-pa-md"},{default:l(()=>[t[8]||(t[8]=m("div",{class:"text-h5 q-mb-md"},"Danh s\xE1ch B\u1EA3o hi\u1EC3m Xe m\xE1y",-1)),i(Q,{bordered:"",separator:""},{default:l(()=>[(b(!0),I(M,null,z(a.danhSachBaoHiemSapXep,e=>(b(),v(S,{key:e.id},{default:l(()=>[i(D,null,{default:l(()=>[i(X,null,{default:l(()=>[m("div",oe,p(e.bienSoXe),1),m("div",ie,p(e.hangBaoHiem)+" - "+p(e.loaiBaoHiem),1),m("div",le," T\u1EEB "+p(e.ngayBatDau)+" \u0111\u1EBFn "+p(e.ngayKetThuc),1)]),_:2},1024)]),_:2},1024),i(D,{side:""},{default:l(()=>[m("div",ne,[i(f,{icon:"edit",color:"primary",size:"sm",round:"",dense:"",onClick:h=>u.moDialogChinhSua(e)},null,8,["onClick"]),i(f,{icon:"delete",color:"negative",size:"sm",round:"",dense:"",onClick:h=>u.hienThiXacNhanXoa(e.id)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),a.danhSachBaoHiemSapXep.length?j("",!0):(b(),v(S,{key:0},{default:l(()=>[i(D,null,{default:l(()=>[i(X,{class:"text-center text-grey"},{default:l(()=>t[7]||(t[7]=[$(" Kh\xF4ng c\xF3 b\u1EA3o hi\u1EC3m n\xE0o. ")])),_:1})]),_:1})]),_:1}))]),_:1}),i(te,{position:"bottom-right",offset:[18,18]},{default:l(()=>[i(f,{fab:"",icon:"add",color:"primary",onClick:u.moDialogThemMoi},null,8,["onClick"])]),_:1}),i(E,{modelValue:o.hienThiDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>o.hienThiDialog=e),persistent:""},{default:l(()=>[i(A,{style:{"min-width":"350px"}},{default:l(()=>[i(k,null,{default:l(()=>[m("div",se,p(o.cheDoDialog==="them"?"Th\xEAm B\u1EA3o hi\u1EC3m M\u1EDBi":"Ch\u1EC9nh s\u1EEDa B\u1EA3o hi\u1EC3m"),1)]),_:1}),i(k,{class:"q-pt-none"},{default:l(()=>[i(J,{onSubmit:u.submitForm,ref:"form"},{default:l(()=>[i(y,{modelValue:o.baoHiemDangXuLy.bienSoXe,"onUpdate:modelValue":t[0]||(t[0]=e=>o.baoHiemDangXuLy.bienSoXe=e),label:"Bi\u1EC3n s\u1ED1 xe",outlined:"",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp bi\u1EC3n s\u1ED1 xe"]},null,8,["modelValue","rules"]),i(y,{modelValue:o.baoHiemDangXuLy.hangBaoHiem,"onUpdate:modelValue":t[1]||(t[1]=e=>o.baoHiemDangXuLy.hangBaoHiem=e),label:"H\xE3ng b\u1EA3o hi\u1EC3m",outlined:"",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp h\xE3ng b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","rules"]),i(R,{modelValue:o.baoHiemDangXuLy.loaiBaoHiem,"onUpdate:modelValue":t[2]||(t[2]=e=>o.baoHiemDangXuLy.loaiBaoHiem=e),label:"Lo\u1EA1i b\u1EA3o hi\u1EC3m",options:o.loaiBaoHiemOptions,outlined:"",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\u1EA3o hi\u1EC3m"]},null,8,["modelValue","options","rules"]),i(y,{modelValue:o.baoHiemDangXuLy.ngayBatDau,"onUpdate:modelValue":t[3]||(t[3]=e=>o.baoHiemDangXuLy.ngayBatDau=e),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",outlined:"",type:"date",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),i(y,{modelValue:o.baoHiemDangXuLy.ngayKetThuc,"onUpdate:modelValue":t[4]||(t[4]=e=>o.baoHiemDangXuLy.ngayKetThuc=e),label:"Ng\xE0y k\u1EBFt th\xFAc",outlined:"",type:"date",rules:[e=>!!e||"Vui l\xF2ng ch\u1ECDn ng\xE0y k\u1EBFt th\xFAc",e=>new Date(e)>new Date(o.baoHiemDangXuLy.ngayBatDau)||"Ng\xE0y k\u1EBFt th\xFAc ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u"]},null,8,["modelValue","rules"]),i(y,{modelValue:o.baoHiemDangXuLy.soTienBaoHiem,"onUpdate:modelValue":t[5]||(t[5]=e=>o.baoHiemDangXuLy.soTienBaoHiem=e),modelModifiers:{number:!0},label:"S\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m",outlined:"",type:"number",rules:[e=>!!e||"Vui l\xF2ng nh\u1EADp s\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m",e=>e>0||"S\u1ED1 ti\u1EC1n b\u1EA3o hi\u1EC3m ph\u1EA3i l\u1EDBn h\u01A1n 0"]},null,8,["modelValue","rules"]),m("div",ue,[i(f,{label:o.cheDoDialog==="them"?"Th\xEAm":"L\u01B0u",type:"submit",color:"primary"},null,8,["label"]),Y(i(f,{label:"H\u1EE7y",color:"grey",flat:"",class:"q-ml-sm"},null,512),[[Z]])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ce=K(ae,[["render",re]]);export{ce as default};
